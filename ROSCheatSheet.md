**Contents:**


# General Syntax #
The general syntax used in this document (but not necessarily in ROS) is as follows

  * `<description of content meant to replace this content>` (any symbols used within these brackets are literal, ie. <package name/message type> = <std\_msgs/String>)
  * The above is also used for XML; the use of XML will be explicitly stated in these cases.
  * `[comma-separated list of optional content]`

# Working With Packages #

## Creating Packages ##
```
roscreate-pkg <package name> [<linking dependency 1>, <linking dependency 2>, ...]
```

## Package Components ##
  * `manifest.xml`: Specifies _linking dependencies_ of the current package. For example, if you use std\_msgs::String in your node, your program will not link unless you add `<depend package="std_msgs"/>` to your manifest.

  * `CMakeLists.txt`: Specifies how your package should be compiled. Also contains macros to auto-generate header files for messages, services, and reconfigure parameters. Other macros can be used to build executables and shared libraries.

  * `src/`: Contains the source for any ROS nodes which your package provides.
  * `msg/`: Contains the source for any custom ROS messages which you have defined.
  * `srv/`: Contains the source for any custom ROS services which you have defined.
  * `cfg/`: Contains the source for any parameters you want to show up in the dynamic reconfigure GUI for your node.
  * `include/<package_name>/`: Contains any header files (usually libraries) used by your node.
  * `lib/`: Contains any compiled shared library files generated by your node.
  * `bin/`: Contains any compiled executables generated by your node.
  * `docs/`: Contains any documentation generated by your node.

# Listing Information / Filesystem #

## roscd ##
```
roscd <package name>
```

  * cd's to the location of the specified ROS package

## rostopic ##
```
rostopic [list, info, echo, pub, ...]
```

  * `list`: show current ROS topics
  * `info <topic name>`: show nodes connected to the given topic
  * `echo <topic name>`: display the raw data being sent on the given topic
  * `pub <topic name> <ROS message type> [<arg2>, <arg3>, ...]`: publish the given data on the given topic

## rosservice ##
```
rosservice [list, call, ...]
```

  * `list`: show current ROS services
  * `call <topic name> <ROS service type> [<arg2>, <arg3>, ...]`: make a service call to the given topic using the given service type.

## rosmsg ##
```
rosmsg [show, ...]
```
  * `show <package name/message type>`: dump the given message definition to the terminal

## rossrv ##
```
rossrv [show, ...]
```
  * `show <package name/service type>`: dump the given service definition to the terminal

# Starting Nodes #

## roscore ##
```
roscore
```

  * starts up a roscore node which provides the `/rosout` topic, among others

## rosrun ##
```
rosrun <package name> <executable name> [<arg1>, <arg2>, ...]
```

  * run the given node from the given package
  * equivalent to `roscd <package name>/bin && ./<executable name> [<arg1>, <arg2>, ...]`

## roslaunch ##
```
roslaunch <launch folder or package name> <launch file>
```

# Changing the Default Value of Parameters #

## At Runtime, In the Command Line ##
```
rosrun <package name> <executable name> [_<param1 name>:=<param1 value>, _<param2 name>:=<param2 value>]
```

## In a Launch File ##
```
XML:
<node pkg="package_name" type="executable_name" name="desired_node_name">
    <param name="param1 name" type="param1 type" value="param1 value" />
    <param name="param2 name" type="param2 type" value="param2 value" />
</node>
```

# Remapping Topics #

## At Runtime, In the Command Line ##
```
rosrun <package name> <executable name> <original topic name>:=<new topic name>
```

## In a Launch File ##
```
XML:
<node pkg="package_name" type="executable_name" name="desired_node_name">
    <remap from="original topic name" to="new topic name" />
</node>
```

# Launch File Syntax #

```
XML:
<launch>
    <node pkg="package_name" type="executable_name" name="desired_node_name">
        <param name="param1 name" type="param1 type" value="param1 value" />
        <param name="param2 name" type="param2 type" value="param2 value" />
        <remap from="original topic name" to="new topic name" />
    </node>
</launch>
```

# C++ Syntax #

## Generic ROS Node Template ##
  * package: ros\_node\_demo
  * source file: ros\_node\_demo/src/ros\_node\_demo.cpp

```
#include <ros/ros.h>

class RosNodeDemo
{
protected:
    ros::NodeHandle nh_priv_;
    ros::MultiThreadedSpinner spinner_;

public:
    RosNodeDemo( ros::NodeHandle & nh, uint threads = 3 ) : nh_priv_( "~" ), spinner_( threads )
    {
        //initialize params, services, etc
    }

    void spin()
    {
        spinner_.spin();
    }
}

int main( int argc, char ** argv )
{
    ros::init( argc, argv, "ros_node_demo" );
    ros::NodeHandle nh;

    RosNodeDemo ros_node_demo( nh );
    ros_node_demo.spin();

    return 0;
}

```

# Advanced #

## Connecting to an External roscore Node ##
```
export ROS_IP=<current ip> && export ROS_MASTER_URI=http://<hostname of external roscore node>:11311
```

**Note:** It may also be necessary to add the hostname of the computer running the roscore node to your `/etc/hosts` file and use the hostname instead of the IP when changing ROS\_MASTER\_URI.

## Setting up Dynamic Reconfigure for a ROS Node ##
  * See the Dyanmic Reconfigure [ROS tutorial](http://www.ros.org/wiki/dynamic_reconfigure/Tutorials/SettingUpDynamicReconfigureForANode)