# Introduction #

A node that uses simulated annealing to detect and find the location of buoys.


# Details #

Steps for scoring:
  * Create a grayscale image representing the candidate
  * Bitwise And ([cvAnd](http://opencv.willowgarage.com/documentation/operations_on_arrays.html#and)) it with the target to find the common pixels (using [cvCountNonZero](http://opencv.willowgarage.com/documentation/operations_on_arrays.html#countnonzero)).
  * Where N = The number of pixels in the target image, C = the number of pixels in the candidate image, and T = the number of common pixels between them
    * if N > C return (T/C)
    * if N <= C return (T/N)
  * This will return a score between 0 and 1 with 0 being no match at all and 1 being a perfect match.
  * What to do if they try to generate a candidate that crosses over the edge?  Not sure yet, but proceeding anyway may give us a semi-useful result.

Steps for creating candidate image:
  * Start with some kind of polar equation to create a polygon approximating a buoy from a specific central point.  The scale of the buoy can be changed by simply multiplying this equation by a scaling factor between 0 and some upper limit.
  * Create a the specific point using [cvFillPoly](http://opencv.willowgarage.com/documentation/drawing_functions.html#fillpoly) from the points generated by the polar equation described above (the points will, of course, have to be converted to cartesian format).

Steps for simulated annealing:
  * Currently it works by setting a specific temperature and taking a number of variables, each with a minimum and maximum value.  As the temperature decreases the distance between the "current state" and the "candidate state" decreases as a factor of the temperature in addition to the inclusion of a random factor.  After this is done the candidate is scored and, if it performs better, it is automatically replaced as the current state.  If it performs worse we again generate a random number by multiplying the temperature and a random number and taking the state change if the result is large enough.  We could possibly factor in how much better/worse this state change is into the equation as well.

  * We might need to reconsider our change-acceptance probability as, right now, it is solely dependent upon temperature, not the actual benefit of the change.